<script>
  (function(){
    $(document).ready(function(){
      var modal = $('#invitation-modal');
      var form = modal.find('form');
      var emailField = form.find("[name='invitation[email]']")
      modal.on('shown', function(){
        emailField.focus();
      });
      form.on('ajax:beforeSend', function() {
        $(this).find(".form-inputs").hide();
        $(this).find(".alert").remove();
        modal.find(".progress").show();
      });
      form.on('ajax:complete', function() {
        modal.find(".progress").hide();
        $(this).find('.form-inputs').show();
        emailField.val('').focus();
      });
    });
  });
</script>
